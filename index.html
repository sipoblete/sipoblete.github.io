<!DOCTYPE html>
<html>
<body>

<meta name="viewport" content="width=device-width, initial-scale=1"> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
<!-- <script type="module" src = "client.js"></script> -->
<link rel='stylesheet' type='text/css' href='index.css'>
<script src="plotly.min.js"></script>
<script type = "text/javascript">
	
var socket = io("wss://le-18262636.bitzonte.com", {path: '/stocks'});
console.log(socket)

// socket.emit("UPDATE");

// socket.on('UPDATE', (data) => {
//             console.log(data);
//         });

// socket.on('BUY', (data) => {
//             console.log(data);
//         });

</script>

<h1>Hello World Line Chart</h1>

<label class="switch">
  <input type="checkbox" checked>
  <span class="slider round"></span>
</label>

<div id="chart"></div>
<script>
	
	function update() {
		socket.on('UPDATE', (data) => {
            console.log(data);
            return data.value
        });
	}
	

	Plotly.plot("chart", [{
		y:[update()],
		type:'line'
	}]);

	setInterval(function(){
		Plotly.extendTraces("chart",{y:[[update()]]},[0]);
	},200);

</script>

</body>
</html>

